# ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄λΌ
Favor the use of standard functional interfaces 

## Java 8, λλ‹¤ λ“±μ¥ ν›„ API λ””μμΈ ν¨ν„΄μ νλ¦„
### Java 8 μ΄μ „
- ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄μ„ λ§μ΄ μ‚¬μ©ν•¨
  - ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄ : μƒμ„ ν΄λμ¤μ κΈ°λ³Έ λ©”μ„λ“λ¥Ό μ¬μ •μν•΄ μ›ν•λ” λ™μ‘ κµ¬ν„
### Java 8 μ΄ν›„
- κ°™μ€ ν¨κ³Όμ ν•¨μ κ°μ²΄λ¥Ό λ°›λ” μ •μ  ν©ν„°λ¦¬, μƒμ„±μλ¥Ό μ κ³µν•λ” κ²ƒ
-  = *ν•¨μ κ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ λ°›λ” μƒμ„±μμ™€ λ©”μ„λ“λ¥Ό λ” λ§μ΄ λ§λ“¤μ–΄μ•Ό ν•λ‹¤.*
  - μ •μ  ν©ν„°λ¦¬ λ©”μ†λ“ : κ°μ²΄ μƒμ„±μ μ—­ν• μ„ ν•λ” ν΄λμ¤ λ©”μ„λ“, μ§μ ‘μ μΌλ΅ μƒμ„±μλ¥Ό ν†µν•΄ κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒμ΄ μ•„λ‹, λ©”μ„λ“λ¥Ό ν†µν•΄μ„ κ°μ²΄λ¥Ό μƒμ„±ν•λ” κ²ƒ
  - of, from, getInstance ...

## ν•¨μν• μΈν„°νμ΄μ¤ (@FunctionalInterFace)
``` java
@FunctionalInterface
public interface MyFunctionalInterface {
    public void method();
}
```
- <b>ν•λ‚μ μ¶”μƒλ©”μ†λ“κ°€ μ„ μ–Έλ μΈν„°νμ΄μ¤</b>   
λλ‹¤μ‹μ΄ ν•λ‚μ λ©”μ†λ“λ¥Ό μ •μν•κΈ° λ•λ¬Έμ—, ν•λ‚μ μ¶”μƒλ©”μ†λ“κ°€ μ„ μ–Έλ μΈν„°νμ΄μ¤λ§μ΄ λλ‹¤μ‹μ νƒ€κ² νƒ€μ…μ΄ λ  μ μλ‹¤.   
λλ‹¤μ‹μ€ ν•¨μν• μΈν„°νμ΄μ¤κ°€ κ°€μ§€κ³  μλ” μ¶”μƒ λ©”μ†λ“μ μ„ μ–Έ ν•νƒμ— λ”°λΌμ„ μ‘μ„± λ°©λ²•μ΄ λ‹¬λΌμ§.

# ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤
java.util.function ν‘μ¤€ API ν¨ν‚¤μ§€μ— λ‹¤μ–‘ν• μ©λ„μ ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤κ°€ μμΌλ‹   
<b>β—οΈν•„μ”ν• μ©λ„μ— λ§λ”κ² μλ‹¤λ©΄, μ§μ ‘ κµ¬ν„ν•μ§€ λ§κ³  ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό ν™μ©ν•΄λΌβ—οΈ</b>    
μ΄ ν¨ν‚¤μ§€μ—μ„ μ κ³µν•λ” ν•¨μν• μΈν„°νμ΄μ¤μ λ©μ  : λ©”μ†λ“, μƒμ„±μμ λ§¤κ°νƒ€μ…μΌλ΅ μ‚¬μ©λμ–΄ λλ‹¤μ‹μ„ λ€μ…ν•  μ μλ„λ΅ ν•κΈ° μ„ν•¨

| μΆ…λ¥ | μ¶”μƒ λ©”μ†λ“ νΉμ§• |  |  μ |
| - | - | - | - |
| `Consumer` | λ§¤κ°κ°’ O, λ¦¬ν„΄κ°’ X | λ§¤κ°κ°’β‡’[Consumer] | `System.out::println` |
| `Predicate` | λ§¤κ°κ°’ O, λ¦¬ν„΄κ°’ O (boolean), λ§¤κ°κ°’μ„ μ΅°μ‚¬ν•΄μ„ true/false λ¦¬ν„΄ | λ§¤κ°κ°’β‡’[Predicate]β‡’boolean | `Collection::isEmpty` |
| `Operator` | λ§¤κ°κ°’ O, λ¦¬ν„΄κ°’ O, μ£Όλ΅ λ§¤κ°κ°’μ„ μ—°μ‚°ν•κ³  κ²°κ³Ό λ¦¬ν„΄ | λ§¤κ°κ°’β‡’[Operator]β‡’λ¦¬ν„΄κ°’ | `String::toLowerCase` |
| `Function` | λ§¤κ°κ°’ O, λ¦¬ν„΄κ°’ O, μ£Όλ΅ λ§¤κ°κ°’μ„ λ¦¬ν„΄κ°’μΌλ΅ λ³€ν™ν•κ³  κ²°κ³Ό λ¦¬ν„΄ |λ§¤κ°κ°’β‡’[Function]β‡’λ¦¬ν„΄κ°’ | `Arrays::asList` |
| `Supplier` | λ§¤κ°κ°’ X, λ¦¬ν„΄κ°’ O |[Supplier]β‡’boolean  | `Instant::now` |
- java.util.function ν¨ν‚¤μ§€μ—λ” μ΄ 43κ°μ μΈν„°νμ΄μ¤κ°€ λ‹΄κ²¨ μμ–΄ μ „λ¶€ κΈ°μ–µν•κΈ°λ” μ–΄λ µμ§€λ§ μ„ κΈ°λ³Έ μΈν„°νμ΄μ¤λ§ κΈ°μ–µν•λ©΄, λ‚λ¨Έμ§€ λ³€ν•μ„ μ¶©λ¶„ν μ μ¶”ν•  μ μμ
  - κ° κΈ°λ³Έ μΈν„°νμ΄μ¤λ” κΈ°λ³Έ νƒ€μ…μΈ int, long, double μ©μΌλ΅ 3κ°μ λ³€ν•μ΄ μƒκ²¨λ‚¨ (+ βΊ)
  - ex) Consumer β‡’ IntConsumer, LongConsumer, DoubleConsumer
    
### Consumer
λ¦¬ν„΄κ°’μ΄ μ—†λ” accept()λ©”μ†λ“λ¥Ό κ°€μ§€κ³  μμΌλ©°, λ‹¨μ§€ λ§¤κ°κ°’μ„ μ†λΉ„ν•λ” μ—­ν• λ§ ν•λ‹¤. 

``` java
        // Consumer μΈν„°νμ΄μ¤ μ •μ
        Consumer<String> printUpperCase = str -> System.out.println(str.toUpperCase());
        Consumer<String> printLength = str -> System.out.println("Length: " + str.length());

        // andThen λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ λ‘ Consumerλ¥Ό μ—°κ²°
        Consumer<String> combinedConsumer = printUpperCase.andThen(printLength);

        // κ²°κ³Ό μ¶λ ¥
        combinedConsumer.accept("hello"); // HELLO \n Length: 5
```
### Predicate
λ§¤κ°λ³€μλ“¤μ„ μ΅°μ‚¬ν•΄μ„ true, falseλ΅ λ¦¬ν„΄ν•λ” μ—­ν• μ„ ν•λ‹¤. 

``` java
        // Predicate μΈν„°νμ΄μ¤ μ •μ
        Predicate<Integer> isEven = x -> x % 2 == 0;

        // negate λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ Predicate λ°μ „
        Predicate<Integer> isOdd = isEven.negate();

        // κ²°κ³Ό μ¶λ ¥
        System.out.println(isOdd.test(5)); // true (5λ” ν™€μ)
```

### Operator
λ§¤κ°λ³€μμ™€ λ¦¬ν„΄κ°’μ΄ μλ” applyλ©”μ†λ“λ¥Ό κ°€μ§€κ³  μλ‹¤. Functionκ³Ό λΉ„μ·ν•μ§€λ§ λ§¤κ°κ°’μ„ λ¦¬ν„΄κ°’μΌλ΅ λ³€ν™/λ§¤ν•‘ν•κΈ°λ³΄λ‹¤λ” μ—°μ‚°μ„ μν–‰ν• ν›„ λ™μΌν• νƒ€μ…μΌλ΅ λ¦¬ν„΄ν•λ” μ—­ν• μ„ ν•λ‹¤
``` java
        // UnaryOperator λλ‹¤ ν‘ν„μ‹
        UnaryOperator<Integer> doubleIt = x -> x * 2;

        // κ°’ μ μ©
        int result = doubleIt.apply(5);

        // κ²°κ³Ό μ¶λ ¥
        System.out.println(result); // 10
```

### Function
λ§¤κ°λ³€μμ™€ λ¦¬ν„΄κ°’μ΄ μλ” applyλ©”μ†λ“λ¥Ό κ°€μ§€κ³  μλ‹¤. λ§¤κ°κ°’μ„ λ¦¬ν„΄ κ°’μΌλ΅ λ§¤ν•‘ν•λ” μ—­ν• μ„ ν•λ‹¤. 
``` java
        // Function λλ‹¤ ν‘ν„μ‹
        Function<String, Integer> strLength = str -> str.length();

        // κ°’ μ μ©
        int result = strLength.apply("hello");

        // κ²°κ³Ό μ¶λ ¥
        System.out.println(result); // 5
```

### Supplier
``` java
        // Supplier μΈν„°νμ΄μ¤ μ •μ
        Supplier<String> supplier = () -> "Hello, World!";

        // get λ©”μ†λ“λ¥Ό μ‚¬μ©ν•μ—¬ κ°’μ„ μ κ³µ
        String result = supplier.get();

        // κ²°κ³Ό μ¶λ ¥
        System.out.println(result); // Hello, World!
```
## μ£Όμ ν•  μ 
- π“ κΈ°λ³Έ ν•¨μν• μΈν„°νμ΄μ¤μ— λ°•μ‹±λ κΈ°λ³Έ νƒ€μ…μ„ λ„£μ–΄ μ‚¬μ©ν•μ§€ λ§μ.
  - λ™μ‘μ€ ν•μ§€λ§ item 61(λ°•μ‹±λ κΈ°λ³Έ νƒ€μ… λ€μ‹  κΈ°λ³Έ νƒ€μ…μ„ μ‚¬μ©ν•λΌ)μ— μ„λ°°, κ³„μ‚°λ‰μ΄ λ§μ„ λ• μ„±λ¥μ΄ λλ ¤μ§„λ‹¤
- π“ λ€λ¶€λ¶„μ κ²½μ°μ—λ” μ§μ ‘ μ‘μ„±ν•μ§€ λ§κ³  ν‘μ¤€ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ

### ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ μ‘μ„±ν•΄μ•Ό ν•λ” κ²½μ° μ£Όμμ !
- ν‘μ¤€ μΈν„°νμ΄μ¤ μ¤‘ ν•„μ”ν• μ©λ„μ— λ§λ”κ² μ—†λ‹¤λ©΄ μ§μ ‘ μ‘μ„±ν•΄μ•Ό ν•  μλ„ μλ‹¤.
- ν•μ§€λ§! μ΄λ° κ²½μ° μ•„λ κ·μΉ™μ„ κΌ­ μ§€μΌμ„ μ„¤κ³„ν•΄λΌ
  1. APIμ—μ„ μμ£Ό μ“°μ΄λ©°, μ΄λ¦„ μμ²΄κ°€ μ©λ„λ¥Ό λ…ν™•ν μ„¤λ…ν•΄μ¤€λ‹¤
  2. κµ¬ν„ν•λ” μ½μ—μ„ λ°λ“μ‹ μ§€μΌμ•Όν•  κ·μ•½μ΄ μλ‹¤.
  3. μ μ©ν• λ””ν΄νΈ λ©”μ†λ“λ¥Ό μ κ³µν•  μ μλ‹¤.
- @FunctionalInterface μ–΄λ…Έν…μ΄μ…μ„ κΌ­ μ‚¬μ©ν•΄λΌ
μ΄ μ–΄λ…Έν…μ΄μ…μ΄ μ—†λ”λΌλ„ ν•λ‚μ μ¶”μƒ λ©”μ†λ“λ§ μλ‹¤λ©΄ ν•¨μν• μΈν„°νμ΄μ¤λ΅ μ‘λ™ν•μ§€λ§, κΌ­ λ…μ‹μ μΌλ΅ μ‘μ„±ν•΄μ£Όλ” κ²ƒμ΄ μΆ‹λ‹¤
1. ν•΄λ‹Ή ν΄λμ¤μ μ½”λ“λ¥Ό μ½μ„ μ΄μ—κ² μ΄ μΈν„°νμ΄μ¤κ°€ λλ‹¤μ©μΌλ΅ μ„¤κ³„λ κ²ƒμ„μ„ μ•λ ¤μ¤€λ‹¤.
2. ν•΄λ‹Ή μΈν„°νμ΄μ¤κ°€ μ¶”μƒ λ©”μ„λ“λ¥Ό μ¤μ§ ν•λ‚λ§ κ°€μ§€κ³  μμ–΄μ•Ό μ»΄νμΌλκ² ν•΄μ¤€λ‹¤.
3. μ μ§€λ³΄μ κ³Όμ •μ—μ„ λ„κµ°κ°€ μ‹¤μλ΅ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•μ§€ λ»ν•κ² λ§‰μ•„μ¤€λ‹¤.   
 
### ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•  λ•μ μ£Όμμ 
μ„λ΅ λ‹¤λ¥Έ ν•¨μν• μΈν„°νμ΄μ¤λ¥Ό κ°™μ€ μ„μΉμ μΈμλ΅ λ°›λ” λ©”μ„λ“λ“¤μ„ λ‹¤μ¤‘μ •μ(Overloading)ν•΄μ„λ” μ•λλ‹¤.   
ν΄λΌμ΄μ–ΈνΈμ—κ² λ¶ν•„μ”ν• λ¨νΈν•¨λ§ μ•κ²¨μ¤„ λΏμ΄λ©°, μ΄ λ¨νΈν•¨μΌλ΅ μΈν•΄ μ‹¤μ λ΅ λ¬Έμ κ°€ μΌμ–΄λ‚κΈ°λ„ ν•λ‹¤.   
ExecutorServiceμ submit λ©”μ„λ“λ” Callable<T>λ¥Ό λ°›λ” κ²ƒκ³Ό Runnableμ„ λ°›λ” κ²ƒμ„ λ‹¤μ¤‘μ •μν•κ³  μμ–΄μ„, submitμ„ μ μ ν μ‚¬μ©ν•κΈ° μ„ν•΄ ν•λ³€ν™μ„ ν•΄μ¤μ•Ό ν•λ” κ²½μ°κ°€ μƒκΈ΄λ‹¤.

<img width="703" alt="α„‰α…³α„α…³α„…α…µα†«α„‰α…£α†Ί 2024-03-17 α„‹α…©α„’α…® 1 34 38" src="https://github.com/NoSubject-Study/effective-java-study/assets/37797830/128bc2ae-4b0c-407a-8ca1-b65d61ef92d7">
<img width="725" alt="image" src="https://github.com/NoSubject-Study/effective-java-study/assets/37797830/09cea2e1-648c-405a-b142-f434b78bef3a">

